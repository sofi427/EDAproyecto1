package proyecto1;
import java.util.HashMap; 

public class RepositorioPublicaciones {
	private HashMap <String, Publicacion> listaPublicaciones = new HashMap <String, Publicacion>();
	private static RepositorioPublicaciones miRepositorio;
	
	public RepositorioPublicaciones() {}
  
	public static RepositorioPublicaciones getMiRepositorio() {
		if (miRepositorio == null) {
			miRepositorio = new RepositorioPublicaciones();
		}
		return miRepositorio;
	}
	
	public HashMap<String, Autor> getListaAutores(String pId){
		return this.listaPublicaciones.get(pId).getListaAutores();
	}

    public Publicacion buscarPublicación(String pId) {
		return this.listaPublicaciones.get(pId);
    }

    public boolean existePublicacion(String pId) {
		return this.listaPublicaciones.containsKey(pId);
    }
    
    public Publicacion borrarPublicacion(Publicacion pPub) {
		return this.listaPublicaciones.remove(pPub); //el método remove de HashMap devuelve el objeto que borra del mapa
    }

	public void anadirPublicacion(String pId, String pTitulo) {
		if (this.existePublicacion(pId)==false) {
			Publicacion pub= new Publicacion(pId, pTitulo);
			this.listaPublicaciones.put(pId, pub);
		}
		//else: ya existe publicacion, no habria que añadirla
		//podriamos poner que devuelva algun mensaje o algo no se
    }
	
	
	
	
	// public HashMap<String, Autor> autoresOrdenados() {
		//HashMap<String, Autor> mapa = new HashMap<String, Autor>();
		
		//return mapa;
	//}
}
